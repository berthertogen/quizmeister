
{
    "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
    "contentVersion": "1.0.0.0",
    "parameters": {
    },
    "variables": {
    },
    "resources": [
        {
            "type": "Microsoft.KeyVault/vaults",
            "apiVersion": "2016-10-01",
            "name": "quizmeister-vault",
            "location": "[resourceGroup().location]",
            "properties": {
                "sku": {
                    "family": "A",
                    "name": "standard"
                },
                "tenantId": "b4aa906f-65ba-48cc-bf08-19a901a141dc",
                "accessPolicies": [
                    {
                        "tenantId": "b4aa906f-65ba-48cc-bf08-19a901a141dc",
                        "objectId": "aa461ce7-71e5-49b1-bbf3-19e73e011dcd",
                        "permissions": {
                            "keys": [],
                            "secrets": [
                                "Get",
                                "Set",
                                "Delete"
                            ],
                            "certificates": [],
                            "storage": []
                        }
                    },
                    {
                        "tenantId": "b4aa906f-65ba-48cc-bf08-19a901a141dc",
                        "objectId": "025a770b-324c-4576-887f-a8ca13e714fb",
                        "permissions": {
                            "keys": [],
                            "secrets": [
                                "Get"
                            ],
                            "certificates": [],
                            "storage": []
                        }
                    },
                    {
                        "tenantId": "[subscription().tenantId]",
                        "objectId": "1a7b1162-a39c-4c24-8335-0f4781cd261b",
                        "permissions": {
                            "secrets": [
                                "get",
                                "list"
                            ]
                        }
                    }
                ],
                "enabledForDeployment": false,
                "enabledForDiskEncryption": true,
                "enabledForTemplateDeployment": true
            }
        },
        {
            "type": "Microsoft.Network/dnszones",
            "apiVersion": "2018-05-01",
            "name": "quizmeister.net",
            "location": "global",
            "properties": {
                "zoneType": "Public"
            }
        },
        {
            "type": "Microsoft.Network/dnszones/CNAME",
            "apiVersion": "2018-05-01",
            "name": "quizmeister.net/admin",
            "dependsOn": [
                "[resourceId('Microsoft.Network/dnszones', 'quizmeister.net')]"
            ],
            "properties": {
                "TTL": 3600,
                "CNAMERecord": {
                    "cname": "quizmeister-admin.azurewebsites.net"
                },
                "targetResource": {}
            }
        },
        {
            "type": "Microsoft.Network/dnszones/CNAME",
            "apiVersion": "2018-05-01",
            "name": "quizmeister.net/www",
            "dependsOn": [
                "[resourceId('Microsoft.Network/dnszones', 'quizmeister.net')]"
            ],
            "properties": {
                "TTL": 3600,
                "CNAMERecord": {
                    "cname": "quizmeister-client.azurewebsites.net"
                },
                "targetResource": {}
            }
        },
        {
            "type": "Microsoft.Network/dnszones/CNAME",
            "apiVersion": "2018-05-01",
            "name": "quizmeister.net/presentation",
            "dependsOn": [
                "[resourceId('Microsoft.Network/dnszones', 'quizmeister.net')]"
            ],
            "properties": {
                "TTL": 3600,
                "CNAMERecord": {
                    "cname": "quizmeister-presentation.azurewebsites.net"
                },
                "targetResource": {}
            }
        },
        {
            "type": "Microsoft.Network/dnszones/CNAME",
            "apiVersion": "2018-05-01",
            "name": "quizmeister.net/quizzes-api",
            "dependsOn": [
                "[resourceId('Microsoft.Network/dnszones', 'quizmeister.net')]"
            ],
            "properties": {
                "TTL": 3600,
                "CNAMERecord": {
                    "cname": "quizmeister-quizzes-api.azurewebsites.net"
                },
                "targetResource": {}
            }
        },
        {
            "type": "Microsoft.Network/dnszones/NS",
            "apiVersion": "2018-05-01",
            "name": "quizmeister.net/@",
            "dependsOn": [
                "[resourceId('Microsoft.Network/dnszones', 'quizmeister.net')]"
            ],
            "properties": {
                "TTL": 172800,
                "NSRecords": [
                    {
                        "nsdname": "ns1-06.azure-dns.com."
                    },
                    {
                        "nsdname": "ns2-06.azure-dns.net."
                    },
                    {
                        "nsdname": "ns3-06.azure-dns.org."
                    },
                    {
                        "nsdname": "ns4-06.azure-dns.info."
                    }
                ],
                "targetResource": {
                }
            }
        },
        {
            "type": "Microsoft.Network/dnszones/SOA",
            "apiVersion": "2018-05-01",
            "name": "quizmeister.net/@",
            "dependsOn": [
                "[resourceId('Microsoft.Network/dnszones', 'quizmeister.net')]"
            ],
            "properties": {
                "TTL": 3600,
                "SOARecord": {
                    "email": "azuredns-hostmaster.microsoft.com",
                    "expireTime": 2419200,
                    "host": "ns1-06.azure-dns.com.",
                    "minimumTTL": 300,
                    "refreshTime": 3600,
                    "retryTime": 300,
                    "serialNumber": 1
                },
                "targetResource": {
                }
            }
        },
        {
            "type": "Microsoft.Network/dnszones/TXT",
            "apiVersion": "2018-05-01",
            "name": "quizmeister.net/@",
            "dependsOn": [
                "[resourceId('Microsoft.Network/dnszones', 'quizmeister.net')]"
            ],
            "properties": {
                "TTL": 3600,
                "TXTRecords": [
                    {
                        "value": [
                            "h5kc5c6gpb0gaglk5s3k8le9cm"
                        ]
                    }
                ],
                "targetResource": {
                }
            }
        },
        {
            "type": "Microsoft.DomainRegistration/domains",
            "apiVersion": "2015-04-01",
            "name": "quizmeister.net",
            "location": "global",
            "properties": {
                "nameServers": [
                    "ns1-06.azure-dns.com",
                    "ns2-06.azure-dns.net",
                    "ns3-06.azure-dns.org",
                    "ns4-06.azure-dns.info"
                ],
                "privacy": true,
                "autoRenew": true,
                "managedHostNames": [
                ],
                "domainNotRenewableReasons": [
                    "ExpirationNotInRenewalTimeRange"
                ]
            }
        },
        {
            "type": "Microsoft.CertificateRegistration/certificateOrders",
            "name": "quizmeister-net",
            "apiVersion": "2015-08-01",
            "location": "global",
            "dependsOn": [
                "[resourceId('Microsoft.KeyVault/vaults', 'quizmeister-vault')]"
            ],
            "properties": {
                "DistinguishedName": "CN=*.quizmeister.net",
                "ValidityInYears": 1,
                "ProductType": "StandardDomainValidatedWildCardSsl"
            }
        }
    ],
    "outputs": {
    },
    "functions": [
    ]
}
